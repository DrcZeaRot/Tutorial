### TCP


TCP简介：
* TCP(Transmission Control Protocol，传输控制协议)
* 处于TCP/IP协议的传输层，提供可靠的字节流服务
* 是面向连接的通信协议
    1. 通过3次握手建立连接
    2. 通讯完成时，4次挥手断开连接
* 由于面向连接，所以只能用于端到端的通讯

可靠的字节流服务：
1. 所谓字节流服务(Byte Stream Service)值是指：
    * 为了方便传输，将大块数据分割成以报文段(Segment)为单位的数据包进行管理
2. 可靠的传输服务指：能把数据准确可靠地传递给对方
3. 一言以蔽之：
    1. TCP协议为了更容易传送大数据，把数据分割
    2. TCP协议同时能够确认数据最终是否送达到对方

#### 三次握手：
* 为了准确无误地将数据送达目标处，TCP协议采用了三次握手(three-way-handshaking)策略
1. 用TCP协议把数据包送出去后，TCP不会对传送后的情况置之不理，它一定会向对方确认是否送达成功
2. 握手过程中使用了TCP的标志：SYN(synchronize)和ACK(acknowledgement)
3. 流程简要：
    1. 发送端首先发送一个带SYN标志的数据包给对方
    2. 接收端收到后，回传一个带SYN/ACK标志的数据包，以示传达确认信息
    3. 最后，发送端再回传一个带ACK标志的数据包，代表握手结束
4. 如果在握手过程中，某个阶段莫名中断，TCP会再次以相同的顺序发送相同的数据包

#### 四次挥手
* 与三次握手类似，决定断开TCP连接时，发送端与接收端也需要进行通信，互相告知即将断开
1. 包含两种标志：FIN(finish)和ACK(acknowledgment)
2. 流程简要：
    1. 接收端发送一个带FIN标志的数据包给发送端，表示准备断开
    2. 发送端收到后回传一个带ACK标志的数据包，以示确认接收端的断开
    3. 发送端之后发送一个带FIN标志的数据包给接收端，表示准备断开
    4. 接收端收到后回传一个带ACK标志的数据包，以示确认发送端的断开
